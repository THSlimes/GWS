@import url("../rich-text.css");

@import url("../custom-elements/folder-element.css");
@import url("../custom-elements/switch.css");

rich-text-input {
    display: block;
    position: relative;

    padding: var(--in-section-gap);
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    max-height: 80vh;

    background-color: var(--secondary);
    text-align: unset !important;

    &[compact] {
        > .toolbar > * { font-size: 80%; }
        > .body > * { font-size: 90%; }
    }

    & folder-element {
        > .topper {
            border-radius: var(--in-section-gap);
            > * { margin: 0px; }
        }

        > .contents {
        }

        &.category {
            > .topper {
                outline: var(--std-border);
                transition: border-bottom-left-radius 200ms linear;
            }
            &[open] > .topper { border-bottom-left-radius: 0px; }

            > .contents {
                background-color: var(--primary);
                border: var(--std-border);
                border-radius: 0px 0px var(--in-section-gap) var(--in-section-gap);
            }
        }

    }

    > .toolbar {
        padding: calc(var(--in-section-gap) / 4);

        background-color: var(--primary);
        border-radius: var(--in-section-gap);

        flex-wrap: wrap;

        & .click-action {
            color: var(--text-dark);
            border-radius: var(--in-section-gap);
        }

        & .font-size-selector > .contents > input { width: 4em; }

        & .color-picker {
            & .color-bulb {
                width: 1.5rem;
                height: 1.5rem;
                border-radius: 100%;

                > p {
                    font-size: 1.5rem;
                    translate: 0px -.1125rem;
                }
            }
        }

        > * {
            border-radius: var(--in-section-gap);
        }
    }

    > .body {
        padding: var(--in-section-gap);

        box-sizing: border-box;
        width: 100%;
        flex-grow: 1;

        background-color: var(--primary);
        color: var(--text-dark);
        
        border-radius: var(--in-section-gap);

        overflow-y: scroll;

        & .element-container {
            box-sizing: border-box;
            
            padding: var(--in-section-gap);

            outline: 2px dashed var(--shadow-dark);
            border-radius: var(--in-section-gap);

            > *[do-serialize] {
                align-self: center;

                margin: 0px;

                flex-grow: 1;

                &.text-box { padding: 2px; }

                &.fake-focussed { outline: var(--text-dark) auto 1px; }
        
                &:empty::after {
                    color: var(--shadow-dark);
                    font-style: italic;
                    font-weight: bold;
                    content: "Nieuwe " var(--type);
                }

            }

            > .specialized-container {
                flex-grow: 1;

                > * { width: 100%; }

                > .src-input {}

                > .width-selector {
                    width: 100%;
                    > input { flex-grow: 1; }
                }
            }
        }
    }

}