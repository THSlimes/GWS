@import url("../custom-elements/switch.css");
@import url("../custom-elements/rich-text-input.css");

event-note, editable-event-note {
    display: block;
    position: relative;
    
    padding: var(--in-section-gap);

    box-sizing: border-box;

    background-color: var(--background-color);
    --hover-bg-color: color-mix(in srgb, var(--background-color), white 12.5%) !important;
    color: var(--text-color);
    
    border-radius: var(--in-section-gap);
    
    &[expanded] {
        padding: var(--section-gap-y) var(--section-gap-x);

        > .timespan { font-size: large; }
    }

    > * {
        color: inherit;
    }

    & .name {
        margin: 0px;
        max-width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    & .timespan {
        margin: 0px;
    }

    & .description {
        max-height: 50vh;
        overflow-y: scroll;

        text-align: justify;
    }

    & .register-button {}

    & .comment-box {
        width: 100%;
        height: 10vh;
    }
    
    & .quick-actions {
        position: absolute;
        top: var(--in-section-gap);
        right: var(--in-section-gap);
        
        & > * {
            color: inherit;
            border-radius: var(--in-section-gap);
        }
    }
}

editable-event-note {

    transition: background-color 250ms ease-out;

    & * { transition: color 250ms ease-out; }
    & textarea, & input { color: var(--text-dark); }
    & p { color: var(--text-color); }

    & .general {
        display: grid;
        grid-template-rows: repeat(3, 1fr);
        grid-template-columns: repeat(2, 1fr);

        > * { width: 100%; height: 100%; }

        > .name { grid-area: 1 / 1 / 3 / 2; }
        > .category { grid-area: 3 / 1 / 4 / 2; }
        > .color {
            grid-area: 1 / 2 / 4 / 3;
        }
    }

    & .timespan { width: 100%; }

    & .description { min-height: 8em; }
}

/* PHONE-VIEWPORT OVERRIDE */

@media (max-aspect-ratio: 3 / 5) {
    event-note[expanded] {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-items: center;

        > * { margin: 2em 1em 2em 1em; }
        > .name { margin: 0px; }
        > .timespan { margin: 0px; }
    }
}